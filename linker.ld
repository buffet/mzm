MEMORY {
    ewram : ORIGIN = 0x02000000 LENGTH = 256K
    iwram : ORIGIN = 0x03000000 LENGTH = 32K
    rom : ORIGIN = 0x08000000 LENGTH = 32M
}

SECTIONS {
    ewram (NOLOAD) : ALIGN(4) {
        . = 0x00037e00; events_triggered = .;
        . = 0x00038000; unk_02038000 = .;
    } >ewram

    iwram (NOLOAD) : ALIGN(4) {
        . = 0x00000000; debug_flag = .;
        . = 0x00000002; frame_counter_16bit = .;
        . = 0x00000004; stereo_enabled = .;
        . = 0x0000000A; written_to_dispcnt = .;
        . = 0x00000029; bg_fading = .;
        . = 0x0000002A; which_bg_position_is_written_to_bg30fs = .;
        . = 0x0000002B; samus_on_top_backgrounds = .;
        . = 0x0000002C; difficulty = .;
        . = 0x0000002D; use_mother_ship_doors = .;
        . = 0x00000038; curr_demo = .;
        . = 0x0000003c; reset_game = .;
        . = 0x0000003D; disable_scrolling = .;
        . = 0x00000042; skip_door_transition = .;
        . = 0x00000043; softreset_disabled = .;
        . = 0x00000049; disable_pause = .;
        . = 0x00000054; current_area = .;
        . = 0x00000055; current_room = .;
        . = 0x00000056; last_door_used = .;
        . = 0x00000058; bit_six_of_last_door_properties = .;
        . = 0x0000006C; effect_y_position = .;
        . = 0x00000071; screen_shake_x_related = .;
        . = 0x00000073; screen_shake_y_related = .;
        . = 0x00000074; screen_shake_related = .;
        . = 0x00000074; dispcnt_backup = .;
        . = 0x00000078; spriteset = .;
        . = 0x00000079; current_clipdata_affecting_action = .;
        . = 0x0000007A; spriteset_entry_used = .;
        . = 0x0000007B; door_ulock_timer = .;
        . = 0x0000007d; curr_cutscene = .;
        . = 0x0000007e; unk_0300007e = .;
        . = 0x00000088; io_registers_backup = .;
        . = 0x0000009C; bg_pointers_and_dimensions = .;
        . = 0x000000BC; current_room_entry = .;
        . = 0x000000DC; current_affecting_clipdata = .;
        . = 0x000000E4; background_positions = .;
        . = 0x000000F8; waiting_space_pirates_position = .;
        . = 0x000000FC; bg2_movement = .;
        . = 0x00000110; screen_shake_y = .;
        . = 0x00000114; screen_shake_x = .;
        . = 0x00000118; current_scrolls = .;
        . = 0x00000130; current_power_bomb = .;
        . = 0x00000144; screen_position_and_velocity = .;
        . = 0x000001A0; unk_030001A0 = .;
        . = 0x000001A8; alarm_timer = .;
        . = 0x000001AC; sprite_data = .;
        . = 0x000006EC; spriteset_sprite_id = .;
        . = 0x000006FB; spriteset_sprite_gfx_slots = .;
        . = 0x0000070C; sub_sprite_data1 = .;
        . = 0x00000720; sub_sprite_data2 = .;
        . = 0x00000734; parasite_related = .;
        . = 0x00000738; current_sprite = .;
        . = 0x00000770; sprite_debris = .;
        . = 0x000007F0; previous_vertical_collision_check = .;
        . = 0x000007F1; previous_collision_check = .;
        . = 0x000007F1; collision_related = .;
        . = 0x000007F3; sprite_draw_order = .;
        . = 0x0000083C; sprite_rng = .;
        . = 0x00000840; particle_effects = .;
        . = 0x00000918; curr_particle_oam_frame_ptr = .;
        . = 0x0000095C; current_escape_status = .;
        . = 0x0000095D; escape_timer_counter = .;
        . = 0x0000095E; escape_timer_digits = .;
        . = 0x0000095E; particle_escape_oam_frames = .;
        . = 0x0000095E; particle_samus_reflection_oam_frames = .;
        . = 0x00000A2C; projectile_data = .;
        . = 0x00000B1D; is_current_file_existing = .;
        . = 0x00000BEC; arm_cannon_y = .;
        . = 0x00000BEE; arm_cannon_x = .;
        . = 0x00000bf0; pause_screen_flag = .;
        . = 0x00000c1c; unk_03000c1c = .;
        . = 0x00000c70; game_mode = .;
        . = 0x00000c72; game_submode1 = .;
        . = 0x00000c74; next_game_mode = .;
        . = 0x00000c75; unk_03000c75 = .;
        . = 0x00000c76; unk_03000c76 = .;
        . = 0x00000c77; frame_counter_8bit = .;
        . = 0x00000c78; vblank_request_flag = .;
        . = 0x00000c7c; intr_code = .;
        . = 0x00000E7C; oam_data = .;
        . = 0x0000137c; button_input = .;
        . = 0x0000137e; button_input_old = .;
        . = 0x00001380; buttons_changed = .;
        . = 0x00001382; next_oam_slot = .;
        . = 0x000013B4; bg0_x_position = .;
        . = 0x000013B6; bg0_y_position = .;
        . = 0x000013B8; bg1_x_position = .;
        . = 0x000013BA; bg1_y_position = .;
        . = 0x000013BC; bg2_x_position = .;
        . = 0x000013BE; bg2_y_position = .;
        . = 0x000013C0; bg3_x_position = .;
        . = 0x000013C2; bg3_y_position = .;
        . = 0x000013d2; unk_030013d2 = .;
        . = 0x000013D4; samus_data = .;
        . = 0x000013F4; samus_data_copy = .;
        . = 0x00001414; samus_weapon_info = .;
        . = 0x00001528; screw_speed_animation = .;
        . = 0x00001530; equipment = .;
        . = 0x00001530; samus_hazard_damage = .;
        . = 0x0000154C; samus_environmental_effects = .;
        . = 0x00001588; samus_physics = .;
        . = 0x00001600; previous_x_position = .;
        . = 0x00001602; previous_y_position = .;
        . = 0x00001606; prevent_movement_timer = .;
        . = 0x0000168C; button_assignments = .;
        . = 0x00001cec; vblank_callback = .;
        . = 0x00001cf0; hblank_callback = .;
        . = 0x00001cf4; vcount_callback = .;
        . = 0x00001cf8; serial_comm_callback = .;
        . = 0x00001cfc; timer3_callback = .;
        . = 0x00001d00; music_info = .;
        . = 0x00002924; sound_data = .;
        . = 0x00004fc9; unk_03004fc9 = .;
        . = 0x000052E0; samus_palette = .;
        . = 0x0000545C; hatch_data = .;
        . = 0x000054E0; door_position_start = .;
        . = 0x000054EC; bg3_movement = .;
        . = 0x000054F4; bg0_movement = .;
        . = 0x0000550C; samus_door_position_offset = .;
        . = 0x00005708; current_room_scroll_data_pointer = .;
        . = 0x000058e0; src/libgcc/fp-bit-base.o(.bss);
        . = 0x000058f8; src/libgcc/float.o(.bss);
        . = 0x00007e60; sp_sys = .;
        . = 0x00007fa0; sp_irq = .;
        . = 0x00007ff8; unk_03007ff8 = .;
        . = 0x00007ffc; intr_code_ptr = .;
        . = 0x00007ffc; intr_vector = .;
    } >iwram

    rom : ALIGN(2) {
        asm/romheader.o(.text);
        asm/crt0.o(.text);
        asm/intr_main.o(.text);
        src/agbmain.o(.text);
        src/init_game.o(.text);
        src/softreset.o(.text);
        src/syscall_wrappers.o(.text);
        src/update_input.o(.text);
        src/init_helpers.o(.text);
        src/fixed_point.o(.text);
        src/callbacks.o(.text);
        src/sub_08000c04.o(.text);
        asm/disasm_0x08000c48.o(.text);
        src/play_sound.o(.text);
        src/sub_08002a38.o(.text);
        asm/disasm_0x08002a58.o(.text);
        asm/syscalls.o(.text);
        asm/disasm_0x080051d4.o(.text);
        asm/disasm_0x08005368.o(.text);
        src/sprite_debris.o(.text);
        asm/disasm_0x08011ed8.o(.text);
        asm/libgcc.o(.text);
        asm/disasm_0x0808af18.o(.text);
        src/libgcc/fp-bit-base.o(.text);
        src/libgcc/float.o(.text);
        src/libgcc/libgcc.o(.text);
        data/blob_0x808c71c_0x82b2523.o(.text);
        data/sprite_debris_data.o(.text);
        data/blob_0x82b25c8_0x8339ee3.o(.text);
        data/particle_misc_data.o(.text);
        data/blob_0x833bd34_0x87fffff.o(.text);
    } >rom
}
